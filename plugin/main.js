/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CopilotPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  model: "gpt-3.5-turbo",
  apiKey: "sk-xxxxxxxxxx",
  systemContentDraftSection: "You are Obsidian-Copilot, a friendly AI assistant that helps writers craft drafts based on their notes.\n\nYour task is to generate a few paragraphs based on a given section heading and related context of documents. When you reference content from a document, append the sentence with a markdown reference that links to the document's title. For example, if a sentence references context from 'Augmented Language Models.md', it should end with ([source](Augmented%20Language%20Models.md)).",
  systemContentDraftSectionNoContext: "You are Obsidian-Copilot, a friendly AI assistant that helps writers craft drafts based on their notes.\n\nYour task is to generate a few paragraphs based on a given section heading.",
  systemContentReflectWeek: "You are a friendly AI therapist that helps users reflect on their week and evoke feelings of gratitude, positivity, joy for life. Given their journal entries, write a paragraph for each of the following:\n\n* Celebrate what went well\n* Reflect on areas for growth\n* Suggest goals for next week"
};
var CopilotPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.processing = false;
  }
  // Opens a new pane to display the retrieved docs
  async openNewPane(content) {
    const filename = "Retrieved docs.md";
    let file = this.app.vault.getAbstractFileByPath(filename);
    if (file) {
      await this.app.vault.modify(file, content);
    } else {
      file = await this.app.vault.create(filename, content);
    }
    const existingLeaf = this.app.workspace.getLeavesOfType("markdown").find((leaf) => leaf.view.file && leaf.view.file.path === file.path);
    if (existingLeaf) {
      existingLeaf.view.editor.setValue(content);
    } else {
      const leaf = this.app.workspace.getLeaf("split", "vertical");
      leaf.openFile(file);
    }
  }
  async queryLLM(messages, model, temperature = 0.7) {
    return await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${this.settings.apiKey}`
      },
      body: JSON.stringify({
        "model": model,
        "temperature": temperature,
        "messages": messages,
        "stream": true
      })
    });
  }
  async onload() {
    await this.loadSettings();
    async function parseStream(reader, editor) {
      let buffer = "";
      const { value, done } = await reader.read();
      if (done) {
        statusBarItemEl.setText("Done with Copilot task!");
        return;
      }
      const decoded = new TextDecoder().decode(value);
      buffer += decoded;
      let start = 0;
      let end = buffer.indexOf("\n");
      while (end !== -1) {
        const message = buffer.slice(start, end);
        start = end + 1;
        try {
          const messageWithoutPrefix = message.replace("data: ", "");
          const json = JSON.parse(messageWithoutPrefix);
          let lastToken = "";
          if (json.choices && json.choices.length > 0 && json.choices[0].delta && json.choices[0].delta.content) {
            let token = json.choices[0].delta.content;
            if (token === " ") {
              lastToken += token;
              token = lastToken;
            } else {
              lastToken = token;
            }
            editor.replaceSelection(token);
          }
        } catch (err) {
        }
        end = buffer.indexOf("\n", start);
      }
      buffer = buffer.slice(start);
      requestAnimationFrame(() => parseStream(reader, editor));
    }
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Copilot loaded");
    this.addCommand({
      id: "copilot-draft-section",
      name: "Draft Section",
      editorCallback: async (editor, view) => {
        var _a;
        const selection = editor.getSelection();
        const query = selection.replace(/[^a-z0-9 ]/gi, "");
        statusBarItemEl.setText("Running Copilot...");
        const restResponse = await fetch(`http://0.0.0.0:8000/get_chunks?query=${encodeURIComponent(query)}`);
        console.log("response", restResponse);
        if (!restResponse.ok) {
          console.error("An error occurred while fetching chunks", await restResponse.text());
          statusBarItemEl.setText("ERROR: No response from retrieval API");
          return;
        }
        const restData = await restResponse.json();
        const retrievedDocs = [];
        const relevantContent = [];
        for (let i = 0; i < restData.length; i++) {
          retrievedDocs.push(`[[${restData[i].title}]]

${restData[i].chunk}`);
          relevantContent.push(`Title: ${restData[i].title}
Context: ${restData[i].chunk}
`);
        }
        const retrievedDocsDisplay = retrievedDocs.join("\n---\n");
        console.log(`PARSED RETRIEVED DOCS: 

${retrievedDocsDisplay}`);
        this.openNewPane(retrievedDocsDisplay);
        const user_content = `Section heading: ${query}

${relevantContent.join("---\n")}

Draft:`;
        console.log(`USER CONTENT:

${user_content}`);
        const messages = [
          { "role": "system", "content": this.settings.systemContentDraftSection },
          { "role": "user", "content": user_content }
        ];
        const response = await this.queryLLM(messages, this.settings.model, 0.7);
        if (!response.ok) {
          const errorData = await response.json();
          console.error("An error occurred", errorData);
          statusBarItemEl.setText("ERROR: No response from LLM API");
        } else {
          const reader = (_a = response.body) == null ? void 0 : _a.getReader();
          editor.replaceSelection(selection + "\n\n");
          await parseStream(reader, editor);
        }
      }
    });
    this.addCommand({
      id: "copilot-draft-section-no-context",
      name: "Draft Section (no context)",
      editorCallback: async (editor, view) => {
        var _a;
        const selection = editor.getSelection();
        const query = selection.replace(/[^a-z0-9 ]/gi, "");
        statusBarItemEl.setText("Running Copilot...");
        const user_content = `Section heading: ${query}

Draft:`;
        console.log(`USER CONTENT:

${user_content}`);
        const messages = [
          { "role": "system", "content": this.settings.systemContentDraftSectionNoContext },
          { "role": "user", "content": user_content }
        ];
        const response = await this.queryLLM(messages, this.settings.model, 0.7);
        if (!response.ok) {
          const errorData = await response.json();
          console.error("An error occurred", errorData);
          statusBarItemEl.setText("ERROR: No response from LLM API");
        } else {
          const reader = (_a = response.body) == null ? void 0 : _a.getReader();
          editor.replaceSelection(selection + "\n\n");
          await parseStream(reader, editor);
        }
      }
    });
    this.addCommand({
      id: "copilot-reflect-week",
      name: "Reflect on the week",
      editorCallback: async (editor, view) => {
        var _a;
        statusBarItemEl.setText("Running Copilot...");
        const titleDateStr = view.file.basename;
        const date = new Date(titleDateStr);
        console.log(`Date: ${date.toISOString().slice(0, 10)}`);
        let pastContent = "";
        for (let i = 0; i < 7; i++) {
          const dateStr = date.toISOString().slice(0, 10);
          const dailyNote = this.app.vault.getAbstractFileByPath(`Daily/${dateStr}.md`);
          console.log(`dateStr: ${dateStr}, dailyNote: ${dailyNote}`);
          if (dailyNote && dailyNote instanceof import_obsidian.TFile) {
            const noteContent = await this.app.vault.read(dailyNote);
            console.log(`dateStr: ${dateStr}, dailyNote: ${dailyNote}, noteContent:

${noteContent}`);
            pastContent += `Date: ${dateStr}

Journal entry:
${noteContent}
---
`;
          }
          date.setDate(date.getDate() - 1);
        }
        console.log(`PAST JOURNAL ENTRIES: 

${pastContent}`);
        this.openNewPane(pastContent);
        const user_content = `These are the journal entries for my week:
${pastContent}

Reflection:`;
        console.log(`USER CONTENT:

${user_content}`);
        const messages = [
          { "role": "system", "content": this.settings.systemContentReflectWeek },
          { "role": "user", "content": user_content }
        ];
        const response = await this.queryLLM(messages, this.settings.model, 0.7);
        if (!response.ok) {
          const errorData = await response.json();
          console.error("An error occurred", errorData);
          statusBarItemEl.setText("ERROR: No response from LLM API");
        } else {
          const reader = (_a = response.body) == null ? void 0 : _a.getReader();
          editor.replaceSelection("\n");
          await parseStream(reader, editor);
        }
      }
    });
    this.addSettingTab(new CopilotSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var CopilotSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for Obsidian Copilot" });
    new import_obsidian.Setting(containerEl).setName("OpenAI API Key").setDesc("Enter your OpenAI API key").addText((text) => text.setPlaceholder("API Key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
      this.plugin.settings.apiKey = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Model Name").setDesc("Enter the model used for generation").addText((text) => text.setPlaceholder("Model name").setValue(this.plugin.settings.model).onChange(async (value) => {
      this.plugin.settings.model = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("System Prompt: Draft Section").setDesc("Define the prompt used for drafting a section with context").addText((text) => text.setPlaceholder("Prompt to draft a section").setValue(this.plugin.settings.systemContentDraftSection).onChange(async (value) => {
      this.plugin.settings.systemContentDraftSection = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("System Prompt: Draft Section (without context)").setDesc("Define the prompt used for drafting a section without context").addText((text) => text.setPlaceholder("Prompt to draft a section (without context)").setValue(this.plugin.settings.systemContentDraftSectionNoContext).onChange(async (value) => {
      this.plugin.settings.systemContentDraftSectionNoContext = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("System Prompt: Reflect on the week").setDesc("Define the prompt used` to reflect on the week").addText((text) => text.setPlaceholder("Prompt to reflect on the week").setValue(this.plugin.settings.systemContentReflectWeek).onChange(async (value) => {
      this.plugin.settings.systemContentReflectWeek = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcblxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5pbnRlcmZhY2UgQ29waWxvdFBsdWdpblNldHRpbmdzIHtcblx0bW9kZWw6IHN0cmluZztcblx0YXBpS2V5OiBzdHJpbmc7XG5cdHN5c3RlbUNvbnRlbnREcmFmdFNlY3Rpb246IHN0cmluZztcblx0c3lzdGVtQ29udGVudERyYWZ0U2VjdGlvbk5vQ29udGV4dDogc3RyaW5nO1xuXHRzeXN0ZW1Db250ZW50UmVmbGVjdFdlZWs6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQ29waWxvdFBsdWdpblNldHRpbmdzID0ge1xuXHRtb2RlbDogJ2dwdC0zLjUtdHVyYm8nLFxuXHRhcGlLZXk6ICdzay14eHh4eHh4eHh4Jyxcblx0c3lzdGVtQ29udGVudERyYWZ0U2VjdGlvbjogXCJZb3UgYXJlIE9ic2lkaWFuLUNvcGlsb3QsIGEgZnJpZW5kbHkgQUkgYXNzaXN0YW50IHRoYXQgaGVscHMgd3JpdGVycyBjcmFmdCBkcmFmdHMgYmFzZWQgb24gdGhlaXIgbm90ZXMuXFxuXFxuWW91ciB0YXNrIGlzIHRvIGdlbmVyYXRlIGEgZmV3IHBhcmFncmFwaHMgYmFzZWQgb24gYSBnaXZlbiBzZWN0aW9uIGhlYWRpbmcgYW5kIHJlbGF0ZWQgY29udGV4dCBvZiBkb2N1bWVudHMuIFdoZW4geW91IHJlZmVyZW5jZSBjb250ZW50IGZyb20gYSBkb2N1bWVudCwgYXBwZW5kIHRoZSBzZW50ZW5jZSB3aXRoIGEgbWFya2Rvd24gcmVmZXJlbmNlIHRoYXQgbGlua3MgdG8gdGhlIGRvY3VtZW50J3MgdGl0bGUuIEZvciBleGFtcGxlLCBpZiBhIHNlbnRlbmNlIHJlZmVyZW5jZXMgY29udGV4dCBmcm9tICdBdWdtZW50ZWQgTGFuZ3VhZ2UgTW9kZWxzLm1kJywgaXQgc2hvdWxkIGVuZCB3aXRoIChbc291cmNlXShBdWdtZW50ZWQlMjBMYW5ndWFnZSUyME1vZGVscy5tZCkpLlwiLFxuXHRzeXN0ZW1Db250ZW50RHJhZnRTZWN0aW9uTm9Db250ZXh0OiBcIllvdSBhcmUgT2JzaWRpYW4tQ29waWxvdCwgYSBmcmllbmRseSBBSSBhc3Npc3RhbnQgdGhhdCBoZWxwcyB3cml0ZXJzIGNyYWZ0IGRyYWZ0cyBiYXNlZCBvbiB0aGVpciBub3Rlcy5cXG5cXG5Zb3VyIHRhc2sgaXMgdG8gZ2VuZXJhdGUgYSBmZXcgcGFyYWdyYXBocyBiYXNlZCBvbiBhIGdpdmVuIHNlY3Rpb24gaGVhZGluZy5cIixcblx0c3lzdGVtQ29udGVudFJlZmxlY3RXZWVrOiBcIllvdSBhcmUgYSBmcmllbmRseSBBSSB0aGVyYXBpc3QgdGhhdCBoZWxwcyB1c2VycyByZWZsZWN0IG9uIHRoZWlyIHdlZWsgYW5kIGV2b2tlIGZlZWxpbmdzIG9mIGdyYXRpdHVkZSwgcG9zaXRpdml0eSwgam95IGZvciBsaWZlLiBHaXZlbiB0aGVpciBqb3VybmFsIGVudHJpZXMsIHdyaXRlIGEgcGFyYWdyYXBoIGZvciBlYWNoIG9mIHRoZSBmb2xsb3dpbmc6XFxuXFxuKiBDZWxlYnJhdGUgd2hhdCB3ZW50IHdlbGxcXG4qIFJlZmxlY3Qgb24gYXJlYXMgZm9yIGdyb3d0aFxcbiogU3VnZ2VzdCBnb2FscyBmb3IgbmV4dCB3ZWVrXCJcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29waWxvdFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBDb3BpbG90UGx1Z2luU2V0dGluZ3M7XG5cdHByb2Nlc3NpbmcgPSBmYWxzZTtcblxuXHQvLyBPcGVucyBhIG5ldyBwYW5lIHRvIGRpc3BsYXkgdGhlIHJldHJpZXZlZCBkb2NzXG5cdGFzeW5jIG9wZW5OZXdQYW5lKGNvbnRlbnQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGZpbGVuYW1lID0gJ1JldHJpZXZlZCBkb2NzLm1kJztcblx0XHRsZXQgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlbmFtZSkgYXMgVEZpbGU7XG5cblx0XHRpZiAoZmlsZSkge1xuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGNvbnRlbnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVuYW1lLCBjb250ZW50KTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGFuIG9wZW4gcGFuZSB3aXRoIHRoZSBmaWxlXG5cdFx0Y29uc3QgZXhpc3RpbmdMZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnbWFya2Rvd24nKS5maW5kKGxlYWYgPT4gbGVhZi52aWV3LmZpbGUgJiYgbGVhZi52aWV3LmZpbGUucGF0aCA9PT0gZmlsZS5wYXRoKTtcblxuXHRcdGlmIChleGlzdGluZ0xlYWYpIHtcblx0XHRcdC8vIElmIGEgcGFuZSB3aXRoIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLCBqdXN0IHNldCB0aGUgY29udGVudFxuXHRcdFx0KGV4aXN0aW5nTGVhZi52aWV3IGFzIE1hcmtkb3duVmlldykuZWRpdG9yLnNldFZhbHVlKGNvbnRlbnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBJZiBubyBwYW5lIHdpdGggdGhlIGZpbGUgZXhpc3RzLCBjcmVhdGUgYSBuZXcgb25lXG5cdFx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0JywgJ3ZlcnRpY2FsJyk7XG5cdFx0XHRsZWFmLm9wZW5GaWxlKGZpbGUpO1xuXHRcdH1cblx0fVxuXG5cblx0cHJpdmF0ZSBhc3luYyBxdWVyeUxMTShtZXNzYWdlczogQXJyYXk8YW55PiwgbW9kZWw6IHN0cmluZywgdGVtcGVyYXR1cmUgPSAwLjcpIHtcblx0XHRyZXR1cm4gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0XHQnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnNldHRpbmdzLmFwaUtleX1gXG5cdFx0XHR9LFxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHQnbW9kZWwnOiBtb2RlbCxcblx0XHRcdFx0J3RlbXBlcmF0dXJlJzogdGVtcGVyYXR1cmUsXG5cdFx0XHRcdCdtZXNzYWdlcyc6IG1lc3NhZ2VzLFxuXHRcdFx0XHQnc3RyZWFtJzogdHJ1ZVxuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0YXN5bmMgZnVuY3Rpb24gcGFyc2VTdHJlYW0ocmVhZGVyOiBhbnksIGVkaXRvcjogRWRpdG9yKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0XHRsZXQgYnVmZmVyID0gJyc7XG5cdFx0XHRjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG5cdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnRG9uZSB3aXRoIENvcGlsb3QgdGFzayEnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkZWNvZGVkID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHZhbHVlKTtcblx0XHRcdGJ1ZmZlciArPSBkZWNvZGVkO1xuXHRcdFx0bGV0IHN0YXJ0ID0gMDtcblx0XHRcdGxldCBlbmQgPSBidWZmZXIuaW5kZXhPZignXFxuJyk7XG5cblx0XHRcdHdoaWxlIChlbmQgIT09IC0xKSB7XG5cdFx0XHRcdGNvbnN0IG1lc3NhZ2UgPSBidWZmZXIuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cdFx0XHRcdHN0YXJ0ID0gZW5kICsgMTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2VXaXRob3V0UHJlZml4ID0gbWVzc2FnZS5yZXBsYWNlKCdkYXRhOiAnLCAnJyk7XG5cdFx0XHRcdFx0Y29uc3QganNvbiA9IEpTT04ucGFyc2UobWVzc2FnZVdpdGhvdXRQcmVmaXgpO1xuXG5cdFx0XHRcdFx0bGV0IGxhc3RUb2tlbiA9ICcnO1xuXG5cdFx0XHRcdFx0aWYgKGpzb24uY2hvaWNlcyAmJiBqc29uLmNob2ljZXMubGVuZ3RoID4gMCAmJiBqc29uLmNob2ljZXNbMF0uZGVsdGEgJiYganNvbi5jaG9pY2VzWzBdLmRlbHRhLmNvbnRlbnQpIHtcblx0XHRcdFx0XHRcdGxldCB0b2tlbiA9IGpzb24uY2hvaWNlc1swXS5kZWx0YS5jb250ZW50O1xuXG5cdFx0XHRcdFx0XHQvLyBJZiB0b2tlbiBpcyBhIHNwYWNlLCBhcHBlbmQgaXQgdG8gbGFzdCB0b2tlblxuXHRcdFx0XHRcdFx0aWYgKHRva2VuID09PSAnICcpIHtcblx0XHRcdFx0XHRcdFx0bGFzdFRva2VuICs9IHRva2VuO1xuXHRcdFx0XHRcdFx0XHR0b2tlbiA9IGxhc3RUb2tlbjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFNhdmUgdGhlIGxhc3Qgbm9uLXNwYWNlIHRva2VuXG5cdFx0XHRcdFx0XHRcdGxhc3RUb2tlbiA9IHRva2VuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBSZXBsYWNlIGluIHRoZSBlZGl0b3Jcblx0XHRcdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKHRva2VuKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIEpTT046ICcsIGVycik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZW5kID0gYnVmZmVyLmluZGV4T2YoJ1xcbicsIHN0YXJ0KTtcblx0XHRcdH1cblx0XHRcdGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShzdGFydCk7XG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcGFyc2VTdHJlYW0ocmVhZGVyLCBlZGl0b3IpKTtcblx0XHR9XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdDb3BpbG90IGxvYWRlZCcpO1xuXG5cdFx0Ly8gRWRpdG9yIGNvbW1hbmQgdGhhdCBkcmFmdHMgYSBzZWN0aW9uIGdpdmVuIHRoZSBzZWN0aW9uIGhlYWRpbmcgYW5kIGNvbnRleHRcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjb3BpbG90LWRyYWZ0LXNlY3Rpb24nLFxuXHRcdFx0bmFtZTogJ0RyYWZ0IFNlY3Rpb24nLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IGFzeW5jIChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0Y29uc3QgcXVlcnkgPSBzZWxlY3Rpb24ucmVwbGFjZSgvW15hLXowLTkgXS9naSwgJycpO1xuXHRcdFx0XHRzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnUnVubmluZyBDb3BpbG90Li4uJyk7XG5cblx0XHRcdFx0Ly8gUmV0cmlldmUgcmVsZXZhbnQgY2h1bmtzIGZyb20gdGhlIHNlcnZlclxuXHRcdFx0XHRjb25zdCByZXN0UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzAuMC4wLjA6ODAwMC9nZXRfY2h1bmtzP3F1ZXJ5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Jlc3BvbnNlJywgcmVzdFJlc3BvbnNlKTtcblx0XHRcdFx0aWYgKCFyZXN0UmVzcG9uc2Uub2spIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBjaHVua3MnLCBhd2FpdCByZXN0UmVzcG9uc2UudGV4dCgpKTtcblx0XHRcdFx0XHRzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnRVJST1I6IE5vIHJlc3BvbnNlIGZyb20gcmV0cmlldmFsIEFQSScpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IHJlc3REYXRhID0gYXdhaXQgcmVzdFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0Y29uc3QgcmV0cmlldmVkRG9jcyA9IFtdO1xuXHRcdFx0XHRjb25zdCByZWxldmFudENvbnRlbnQgPSBbXTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZXN0RGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdC8vIEFzc3VtaW5nIHR0aWxlIGFuZCBjaHVuayBrZXlzIGFyZSBhbHdheXMgcHJlc2VudCBpbiBlYWNoIGRpY3Rpb25hcnlcblx0XHRcdFx0XHRyZXRyaWV2ZWREb2NzLnB1c2goYFtbJHtyZXN0RGF0YVtpXS50aXRsZX1dXVxcblxcbiR7cmVzdERhdGFbaV0uY2h1bmt9YCk7XG5cdFx0XHRcdFx0cmVsZXZhbnRDb250ZW50LnB1c2goYFRpdGxlOiAke3Jlc3REYXRhW2ldLnRpdGxlfVxcbkNvbnRleHQ6ICR7cmVzdERhdGFbaV0uY2h1bmt9XFxuYCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgcmV0cmlldmVkRG9jc0Rpc3BsYXkgPSByZXRyaWV2ZWREb2NzLmpvaW4oJ1xcbi0tLVxcbicpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgUEFSU0VEIFJFVFJJRVZFRCBET0NTOiBcXG5cXG4ke3JldHJpZXZlZERvY3NEaXNwbGF5fWApO1xuXG5cdFx0XHRcdHRoaXMub3Blbk5ld1BhbmUocmV0cmlldmVkRG9jc0Rpc3BsYXkpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSB1c2VyIGNvbnRlbnRcblx0XHRcdFx0Y29uc3QgdXNlcl9jb250ZW50ID0gYFNlY3Rpb24gaGVhZGluZzogJHtxdWVyeX1cXG5cXG4ke3JlbGV2YW50Q29udGVudC5qb2luKCctLS1cXG4nKX1cXG5cXG5EcmFmdDpgO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgVVNFUiBDT05URU5UOlxcblxcbiR7dXNlcl9jb250ZW50fWApO1xuXG5cdFx0XHRcdC8vIFNlbmQgbWVzc2FnZXMgdG8gT3BlbkFJXG5cdFx0XHRcdGNvbnN0IG1lc3NhZ2VzID0gW1xuXHRcdFx0XHRcdHsgJ3JvbGUnOiAnc3lzdGVtJywgJ2NvbnRlbnQnOiB0aGlzLnNldHRpbmdzLnN5c3RlbUNvbnRlbnREcmFmdFNlY3Rpb24gfSxcblx0XHRcdFx0XHR7ICdyb2xlJzogJ3VzZXInLCAnY29udGVudCc6IHVzZXJfY29udGVudCB9XG5cdFx0XHRcdF1cblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnF1ZXJ5TExNKG1lc3NhZ2VzLCB0aGlzLnNldHRpbmdzLm1vZGVsLCAwLjcpO1xuXG5cdFx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQnLCBlcnJvckRhdGEpO1xuXHRcdFx0XHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdFUlJPUjogTm8gcmVzcG9uc2UgZnJvbSBMTE0gQVBJJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keT8uZ2V0UmVhZGVyKCk7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oc2VsZWN0aW9uICsgJ1xcblxcbicpO1xuXG5cdFx0XHRcdFx0YXdhaXQgcGFyc2VTdHJlYW0ocmVhZGVyLCBlZGl0b3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBFZGl0b3IgY29tbWFuZCB0aGF0IGRyYWZ0cyBhIHNlY3Rpb24gZ2l2ZW4gdGhlIHNlY3Rpb24gaGVhZGluZyBPTkxZXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnY29waWxvdC1kcmFmdC1zZWN0aW9uLW5vLWNvbnRleHQnLFxuXHRcdFx0bmFtZTogJ0RyYWZ0IFNlY3Rpb24gKG5vIGNvbnRleHQpJyxcblx0XHRcdGVkaXRvckNhbGxiYWNrOiBhc3luYyAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdGNvbnN0IHF1ZXJ5ID0gc2VsZWN0aW9uLnJlcGxhY2UoL1teYS16MC05IF0vZ2ksICcnKTtcblx0XHRcdFx0c3RhdHVzQmFySXRlbUVsLnNldFRleHQoJ1J1bm5pbmcgQ29waWxvdC4uLicpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSB1c2VyIGNvbnRlbnRcblx0XHRcdFx0Y29uc3QgdXNlcl9jb250ZW50ID0gYFNlY3Rpb24gaGVhZGluZzogJHtxdWVyeX1cXG5cXG5EcmFmdDpgO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgVVNFUiBDT05URU5UOlxcblxcbiR7dXNlcl9jb250ZW50fWApO1xuXG5cdFx0XHRcdC8vIFNlbmQgbWVzc2FnZXMgdG8gT3BlbkFJXG5cdFx0XHRcdGNvbnN0IG1lc3NhZ2VzID0gW1xuXHRcdFx0XHRcdHsgJ3JvbGUnOiAnc3lzdGVtJywgJ2NvbnRlbnQnOiB0aGlzLnNldHRpbmdzLnN5c3RlbUNvbnRlbnREcmFmdFNlY3Rpb25Ob0NvbnRleHQgfSxcblx0XHRcdFx0XHR7ICdyb2xlJzogJ3VzZXInLCAnY29udGVudCc6IHVzZXJfY29udGVudCB9XG5cdFx0XHRcdF1cblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnF1ZXJ5TExNKG1lc3NhZ2VzLCB0aGlzLnNldHRpbmdzLm1vZGVsLCAwLjcpO1xuXG5cdFx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQnLCBlcnJvckRhdGEpO1xuXHRcdFx0XHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdFUlJPUjogTm8gcmVzcG9uc2UgZnJvbSBMTE0gQVBJJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keT8uZ2V0UmVhZGVyKCk7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oc2VsZWN0aW9uICsgJ1xcblxcbicpO1xuXG5cdFx0XHRcdFx0YXdhaXQgcGFyc2VTdHJlYW0ocmVhZGVyLCBlZGl0b3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdjb3BpbG90LXJlZmxlY3Qtd2VlaycsXG5cdFx0XHRuYW1lOiAnUmVmbGVjdCBvbiB0aGUgd2VlaycsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogYXN5bmMgKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0c3RhdHVzQmFySXRlbUVsLnNldFRleHQoJ1J1bm5pbmcgQ29waWxvdC4uLicpO1xuXG5cdFx0XHRcdC8vIEdldCB0aGUgZGF0ZSBmcm9tIHRoZSBub3RlJ3MgdGl0bGVcblx0XHRcdFx0Y29uc3QgdGl0bGVEYXRlU3RyID0gdmlldy5maWxlLmJhc2VuYW1lO1xuXHRcdFx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUodGl0bGVEYXRlU3RyKTtcblx0XHRcdFx0Y29uc29sZS5sb2coYERhdGU6ICR7ZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX1gKTtcblxuXHRcdFx0XHRsZXQgcGFzdENvbnRlbnQgPSAnJztcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHtcblx0XHRcdFx0XHRjb25zdCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTtcblx0XHRcdFx0XHRjb25zdCBkYWlseU5vdGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoYERhaWx5LyR7ZGF0ZVN0cn0ubWRgKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgZGF0ZVN0cjogJHtkYXRlU3RyfSwgZGFpbHlOb3RlOiAke2RhaWx5Tm90ZX1gKTtcblx0XHRcdFx0XHRpZiAoZGFpbHlOb3RlICYmIGRhaWx5Tm90ZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBub3RlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZGFpbHlOb3RlKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGBkYXRlU3RyOiAke2RhdGVTdHJ9LCBkYWlseU5vdGU6ICR7ZGFpbHlOb3RlfSwgbm90ZUNvbnRlbnQ6XFxuXFxuJHtub3RlQ29udGVudH1gKTtcblx0XHRcdFx0XHRcdHBhc3RDb250ZW50ICs9IGBEYXRlOiAke2RhdGVTdHJ9XFxuXFxuSm91cm5hbCBlbnRyeTpcXG4ke25vdGVDb250ZW50fVxcbi0tLVxcbmA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnNvbGUubG9nKGBQQVNUIEpPVVJOQUwgRU5UUklFUzogXFxuXFxuJHtwYXN0Q29udGVudH1gKTtcblxuXHRcdFx0XHR0aGlzLm9wZW5OZXdQYW5lKHBhc3RDb250ZW50KTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgdXNlciBjb250ZW50XG5cdFx0XHRcdGNvbnN0IHVzZXJfY29udGVudCA9IGBUaGVzZSBhcmUgdGhlIGpvdXJuYWwgZW50cmllcyBmb3IgbXkgd2VlazpcXG4ke3Bhc3RDb250ZW50fVxcblxcblJlZmxlY3Rpb246YDtcblx0XHRcdFx0Y29uc29sZS5sb2coYFVTRVIgQ09OVEVOVDpcXG5cXG4ke3VzZXJfY29udGVudH1gKTtcblxuXHRcdFx0XHQvLyBTZW5kIG1lc3NhZ2VzIHRvIE9wZW5BSVxuXHRcdFx0XHRjb25zdCBtZXNzYWdlcyA9IFtcblx0XHRcdFx0XHR7ICdyb2xlJzogJ3N5c3RlbScsICdjb250ZW50JzogdGhpcy5zZXR0aW5ncy5zeXN0ZW1Db250ZW50UmVmbGVjdFdlZWsgfSxcblx0XHRcdFx0XHR7ICdyb2xlJzogJ3VzZXInLCAnY29udGVudCc6IHVzZXJfY29udGVudCB9XG5cdFx0XHRcdF1cblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnF1ZXJ5TExNKG1lc3NhZ2VzLCB0aGlzLnNldHRpbmdzLm1vZGVsLCAwLjcpO1xuXG5cdFx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQnLCBlcnJvckRhdGEpO1xuXHRcdFx0XHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdFUlJPUjogTm8gcmVzcG9uc2UgZnJvbSBMTE0gQVBJJyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keT8uZ2V0UmVhZGVyKCk7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ1xcbicpO1xuXG5cdFx0XHRcdFx0YXdhaXQgcGFyc2VTdHJlYW0ocmVhZGVyLCBlZGl0b3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBDb3BpbG90U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcblx0XHQvLyBVc2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhpcyBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygnY2xpY2snLCBldnQpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgQ29waWxvdFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBDb3BpbG90UGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IENvcGlsb3RQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnU2V0dGluZ3MgZm9yIE9ic2lkaWFuIENvcGlsb3QnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnT3BlbkFJIEFQSSBLZXknKVxuXHRcdFx0LnNldERlc2MoJ0VudGVyIHlvdXIgT3BlbkFJIEFQSSBrZXknKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignQVBJIEtleScpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnTW9kZWwgTmFtZScpXG5cdFx0XHQuc2V0RGVzYygnRW50ZXIgdGhlIG1vZGVsIHVzZWQgZm9yIGdlbmVyYXRpb24nKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignTW9kZWwgbmFtZScpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1N5c3RlbSBQcm9tcHQ6IERyYWZ0IFNlY3Rpb24nKVxuXHRcdFx0LnNldERlc2MoJ0RlZmluZSB0aGUgcHJvbXB0IHVzZWQgZm9yIGRyYWZ0aW5nIGEgc2VjdGlvbiB3aXRoIGNvbnRleHQnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignUHJvbXB0IHRvIGRyYWZ0IGEgc2VjdGlvbicpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeXN0ZW1Db250ZW50RHJhZnRTZWN0aW9uKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3lzdGVtQ29udGVudERyYWZ0U2VjdGlvbiA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTeXN0ZW0gUHJvbXB0OiBEcmFmdCBTZWN0aW9uICh3aXRob3V0IGNvbnRleHQpJylcblx0XHRcdC5zZXREZXNjKCdEZWZpbmUgdGhlIHByb21wdCB1c2VkIGZvciBkcmFmdGluZyBhIHNlY3Rpb24gd2l0aG91dCBjb250ZXh0Jylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ1Byb21wdCB0byBkcmFmdCBhIHNlY3Rpb24gKHdpdGhvdXQgY29udGV4dCknKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3lzdGVtQ29udGVudERyYWZ0U2VjdGlvbk5vQ29udGV4dClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN5c3RlbUNvbnRlbnREcmFmdFNlY3Rpb25Ob0NvbnRleHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTeXN0ZW0gUHJvbXB0OiBSZWZsZWN0IG9uIHRoZSB3ZWVrJylcblx0XHRcdC5zZXREZXNjKCdEZWZpbmUgdGhlIHByb21wdCB1c2VkYCB0byByZWZsZWN0IG9uIHRoZSB3ZWVrJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ1Byb21wdCB0byByZWZsZWN0IG9uIHRoZSB3ZWVrJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5c3RlbUNvbnRlbnRSZWZsZWN0V2Vlaylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN5c3RlbUNvbnRlbnRSZWZsZWN0V2VlayA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQW9GO0FBV3BGLElBQU0sbUJBQTBDO0FBQUEsRUFDL0MsT0FBTztBQUFBLEVB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
